<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-learn/learn-asset-conversion-assethub" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Asset Conversion on AssetHub · Guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guide.kusama.network/docs/learn-asset-conversion-assethub"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Asset Conversion on AssetHub · Guide"><meta data-rh="true" name="description" content="Asset Conversion implementation details on AssetHub."><meta data-rh="true" property="og:description" content="Asset Conversion implementation details on AssetHub."><meta data-rh="true" name="keywords" content="Assets,DEX,Exchange,Pools,Tokens"><link data-rh="true" rel="icon" href="/img/Kusama_Canary_white.png"><link data-rh="true" rel="canonical" href="https://guide.kusama.network/docs/learn-asset-conversion-assethub"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn-asset-conversion-assethub" hreflang="en"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn-asset-conversion-assethub" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://33KMAMG2DG-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Guide" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli&display=swap">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js" onload="addBackToTop()" defer="defer"></script>
<script src="https://apisa.kusama.network/latest.js" async defer="defer"></script>
<script src="../js/custom.js"></script>
<script src="../js/clipboard.min.js"></script>
<script src="../js/copycode.js"></script><link rel="stylesheet" href="/assets/css/styles.56e6bf55.css">
<script src="/assets/js/runtime~main.2b8bd013.js" defer="defer"></script>
<script src="/assets/js/main.7210d5cf.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Guide</b></a></div><div class="navbar__items navbar__items--right"><a href="https://wiki.polkadot.network/docs/kusama-getting-started" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a href="https://wiki.polkadot.network/docs/contributing" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Contribute<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Asset Conversion on AssetHub</h1></header><p>Asset conversion is a simple AMM (Automated Market Maker) based on
<a href="https://github.com/Uniswap/v2-core" target="_blank" rel="noopener noreferrer">Uniswap V2</a> logic, deployed as a
<a href="https://github.com/paritytech/polkadot-sdk/tree/master/substrate/frame/asset-conversion" target="_blank" rel="noopener noreferrer">pallet on Polkadot AssetHub</a>.
In the AMM model the prices of tokens are determined by a mathematical formula based on the ratio of
tokens in a liquidity pool, unlike traditional exchanges that use an order book. This will be a
“trustless” DEX, controlled through Polkadot OpenGov.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The asset pairs of the liquidity pools of AssetHub will always contain the relay chain&#x27;s native
token as one of the assets. Provision of liquidity for pools with arbitrary asset pairs is not
allowed.</p></div></div>
<p>Asset Conversion on Asset Hub enables fee payment in any asset, given it has a liquidity pool, such
that the fee handler (in this case, a Collator) only receives the native asset.</p>
<p>Asset Conversion pallet allows you to:</p>
<ul>
<li><a href="https://docs.rs/pallet-asset-conversion/latest/pallet_asset_conversion/pallet/struct.Pallet.html#method.create_pool" target="_blank" rel="noopener noreferrer">Create a liquidity pool</a>
with the relay chain&#x27;s native token and an asset</li>
<li><a href="https://docs.rs/pallet-asset-conversion/latest/pallet_asset_conversion/pallet/struct.Pallet.html#method.add_liquidity" target="_blank" rel="noopener noreferrer">Provide the liquidity</a>
and receive back an LP token</li>
<li><a href="https://docs.rs/pallet-asset-conversion/latest/pallet_asset_conversion/pallet/struct.Pallet.html#method.remove_liquidity" target="_blank" rel="noopener noreferrer">Exchange the LP token back to assets</a></li>
<li><a href="https://docs.rs/pallet-asset-conversion/latest/pallet_asset_conversion/pallet/struct.Pallet.html#method.swap_exact_tokens_for_tokens" target="_blank" rel="noopener noreferrer">Swap assets if there is a pool created</a></li>
<li><a href="https://docs.rs/pallet-asset-conversion/latest/pallet_asset_conversion/trait.AssetConversionApi.html#method.quote_price_exact_tokens_for_tokens" target="_blank" rel="noopener noreferrer">Query for an exchange price</a>
via a runtime call endpoint</li>
<li><a href="https://docs.rs/pallet-asset-conversion/latest/pallet_asset_conversion/trait.AssetConversionApi.html#method.get_reserves" target="_blank" rel="noopener noreferrer">Query the size of a liquidity pool</a>.</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Asset Conversion Tutorials</div><div class="admonitionContent_BuS1"><p>The Asset Conversion user guide and tutorials are available
<a href="/docs/learn-guides-asset-conversion">here</a></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fee-payment-in-any-asset---wallets">Fee Payment in Any Asset - Wallets<a href="#fee-payment-in-any-asset---wallets" class="hash-link" aria-label="Direct link to Fee Payment in Any Asset - Wallets" title="Direct link to Fee Payment in Any Asset - Wallets">​</a></h2>
<p>Without Asset Conversion pallet, only DOT and
<a href="/docs/learn-assets#sufficient-assets">sufficient assets</a> can be used for paying transaction fees.
With the Asset Conversion pallet deployed, Wallets can enable users to pay transaction fees through
any arbitrary asset made available in pools with either DOT or sufficient assets. More specifically,
this functionality is enabled through
<a href="https://github.com/paritytech/polkadot-sdk/tree/cdc8d197e6d487ef54f7e16767b5c1ab041c8b10/substrate/frame/transaction-payment/asset-conversion-tx-payment" target="_blank" rel="noopener noreferrer">Asset Conversion Transaction Payment Pallet</a>,
allowing runtimes that include it to pay for transactions in assets other than the native token of
the chain.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Handling Pools with Low Liquidity</div><div class="admonitionContent_BuS1"><p>The wallets and UIs should ensure that the user is prompted with the necessary warnings, such that
they do not accidentally spend all of their funds to perform a swap on a pool with no or low
liquidity.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fee-payment-in-any-asset---parachains">Fee Payment in Any Asset - Parachains<a href="#fee-payment-in-any-asset---parachains" class="hash-link" aria-label="Direct link to Fee Payment in Any Asset - Parachains" title="Direct link to Fee Payment in Any Asset - Parachains">​</a></h2>
<p>Parachains can pay for their XCM execution fees in any asset with a liquidity pool on AssetHub.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creation-of-pools-with-foreign-assets---parachains">Creation of Pools with Foreign Assets - Parachains<a href="#creation-of-pools-with-foreign-assets---parachains" class="hash-link" aria-label="Direct link to Creation of Pools with Foreign Assets - Parachains" title="Direct link to Creation of Pools with Foreign Assets - Parachains">​</a></h2>
<p>Assets pallet uses XCM MultiLocations to represent assets, and their corresponding origins to
control them.</p>
<p>One of the pain points of integrating parachain tokens natively on wallets and exchanges is that
they require running individual parachain infrastructure like full nodes to process deposits, and
require additional code to handle withdrawals because they need to be able to construct and
broadcast transactions on each parachain. These parachains could use different balances pallets or
order them differently. When Polkadot hosts hundreds of parachains (and possibly thousands of
threads), this becomes a huge burden in terms of network support. This is in contrast to adding
support for an additional ERC20 token; the marginal effort is very small since an Ethereum node
already serves all the data they need.</p>
<p>With support for these assets on Asset Hub, exchanges/custodians could monitor one chain for
deposits (applications and UIs would need to give the option to transfer to Asset Hub). For
withdrawals, users could choose to withdraw to their address on Asset Hub. There are two user
experience bonuses here:</p>
<ul>
<li>The exchange/custodian only needs to transact on one parachain and can access every other without
any infrastructure lift.</li>
<li>For the user, they never actually need to “see” AssetHub. It’s entirely abstracted away behind
either the parachain wallet/application or the exchange/custodian.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-09-19T15:37:04.000Z" itemprop="dateModified">Sep 19, 2024</time></b> by <b>Filippo</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#fee-payment-in-any-asset---wallets" class="table-of-contents__link toc-highlight">Fee Payment in Any Asset - Wallets</a></li><li><a href="#fee-payment-in-any-asset---parachains" class="table-of-contents__link toc-highlight">Fee Payment in Any Asset - Parachains</a></li><li><a href="#creation-of-pools-with-foreign-assets---parachains" class="table-of-contents__link toc-highlight">Creation of Pools with Foreign Assets - Parachains</a></li></ul></div></div></div></div></main></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Kusama_Canary_white.png" alt="Guide" width="66" height="58"></a><div><a href="https://kusama.network/" target="_blank" class="homepage-font">Kusama Network</a><a href="https://polkadot.network/faq/" target="_blank" rel="noreferrer noopener" class="homepage-font">FAQ</a><a href="https://twitter.com/kusamanetwork" target="_blank" rel="noreferrer noopener" class="homepage-font">Twitter</a><a href="https://www.notion.so/web3foundation/Polkadot-Kusama-Community-Hub-ee1fd077ff6c42c381940404f6aa9f1c" target="_blank" rel="noreferrer noopener" class="homepage-font">Community Hub</a><a href="https://kusa.ma/discord" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Discord</a><a href="https://matrix.to/#/!HfRYKXBoPmDBCAWUEJ:polkadot.builders" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Watercooler</a><a href="https://web3.foundation/grants/" target="_blank" rel="noreferrer noopener" class="homepage-font">Grants and Bounties</a></div><div class="kusama-mainpage-cyber-row"><div class="kusama-mainpage-column"><h2 class="homepage-font-footer">Join a cyber secret society</h2><p class="homepage-font-footer">The Kappa Sigma Mu fraternity asks you to get a Kusama tattoo to join.</p><a href="https://wiki.polkadot.network/docs/maintain-guides-society-kusama"><button class="kusama-mainpage-build-footer">See Kappa Sigma Mu</button></a></div></div></section><section class="row"><div class="copyright homepage-font">© 2024 Web3 Foundation</div>·<a target="_blank" rel="noreferrer noopener" class="item homepage-font" href="https://polkadot.network/legal-disclosures/">Legal Disclosures</a>·<a target="_blank" rel="noreferrer noopener" class="item homepage-font" href="https://polkadot.network/privacy/">Privacy Policy</a></section></footer></div>
</body>
</html>