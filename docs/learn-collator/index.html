<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learn/learn-collator">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Collator · Guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guide.kusama.network/docs/learn-collator"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Collator · Guide"><meta data-rh="true" name="description" content="Learn about how collators maintain the network."><meta data-rh="true" property="og:description" content="Learn about how collators maintain the network."><meta data-rh="true" name="keywords" content="collator,maintain,full node,block candidate"><link data-rh="true" rel="icon" href="/img/Kusama_Canary_white.png"><link data-rh="true" rel="canonical" href="https://guide.kusama.network/docs/learn-collator"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn-collator" hreflang="en"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn-collator" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://33KMAMG2DG-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Guide" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli&display=swap">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js" onload="addBackToTop()" defer="defer"></script>
<script src="https://apisa.kusama.network/latest.js" async defer="defer"></script>
<script src="../js/custom.js"></script>
<script src="../js/clipboard.min.js"></script>
<script src="../js/copycode.js"></script><link rel="stylesheet" href="/assets/css/styles.4fd8784a.css">
<link rel="preload" href="/assets/js/runtime~main.57ce9332.js" as="script">
<link rel="preload" href="/assets/js/main.d2c5ba4e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Guide</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/kusama-getting-started">Docs</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/docs/contributing">Contribute</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/learn-collator" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="https://crowdin.com/project/polkadot-wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Collator</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="collators-role">Collators&#x27; Role<a class="hash-link" href="#collators-role" title="Direct link to heading">​</a></h2><p>Collators maintain parachains by collecting parachain transactions from users and producing state
transition proofs for Relay Chain validators. In other words, collators maintain parachains by
aggregating parachain transactions into parachain block candidates and producing state transition
proofs (Proof-of-Validity, PoV) for validators.</p><p>Collators maintain a full node for the Relay Chain and a full node for their particular parachain;
meaning they retain all necessary information to be able to author new blocks and execute
transactions in much the same way as miners do on PoW blockchains. Under normal circumstances, they
will collate and execute transactions to create an unsealed block and provide it, together with a
PoV, to one or more validators responsible for proposing a parachain block.</p><p>Collators are similar to validators on any other blockchain but they do not need to provide security
guarantees because Kusama provides those. If
a parachain block is invalid, it will get rejected by validators. The validators are required to
check the validity of submitted candidates, followed by issuing and collecting statements about the
validity of candidates to other validators. This process is known as <strong>candidate backing</strong>.
Validators receive an arbitrary number of parachain candidates with associated PoV from untrusted
collators. A candidate is considered <em>backable</em> when at least 2/3 of all assigned validators have
issued a valid statement about that candidate.</p><p>The validator must successfully verify the following conditions in the following order:</p><ol><li><p>The candidate does not exceed any parameters in the persisted validation data.</p></li><li><p>The signature of the collator is valid.</p></li><li><p>Validate the candidate by executing the parachain Runtime.</p></li></ol><p>Once a candidate meets a specified criteria for inclusion, the selected relay chain block author
then choses any of the backable candidates for each parachain and includes those into the relay
chain block. We say the candidate blocks are <em>backed</em>.</p><p>The assumption that having more collators is better or more secure is not correct. On the contrary,
too many collators may slow down the network. The only nefarious power collators have is transaction
censorship. To prevent censorship, a parachain only needs to ensure that there are some neutral
collators - but not necessarily a majority. Theoretically, the censorship problem is solved with
having just one honest collator.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="xcm">XCM<a class="hash-link" href="#xcm" title="Direct link to heading">​</a></h2><p>Collators are a key element of the <a href="/docs/learn-xcm">XCM (Cross-Consensus Message Passing Format)</a>. By
being full nodes of the Relay Chain, they are all aware of each other as peers. This makes it
possible for them to send messages from parachain A to parachain B.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="taking-the-case-for-one-parachain">Taking the Case for One Parachain<a class="hash-link" href="#taking-the-case-for-one-parachain" title="Direct link to heading">​</a></h2><p>A start of a new block candidate is initiated with a block creation time. The collator aggregates
all new transactions at the end of the process. When doing so, the collator signs the <em>parachain
block candidate</em> and produces state transition proofs (Proof-of-Validity, PoV), which are a summary
of the final account balances caused by the transactions in the candidate block. The collator sends
the candidate block and PoV to the parachain validators, so-called para-validators. The
para-validators verify the transactions within the parachain block candidate. Upon verification, and
if all is well, the candidate becomes <em>backable</em> and a para-validator shares the candidate block
with the relay chain.</p><p><img loading="lazy" alt="parachain candidate block diagram" src="/assets/images/polkadot-consensus-example-1-b4a05f2e5a4b991594612da57e1d6dfd.png" width="413" height="298" class="img_ev3q"></p><p>The validators on the relay chain will try to reach a consensus on the block candidate. Upon
reaching consensus, the now validated block candidate is shared with the validators and collators,
and the process repeats for new transactions. A collator cannot continue building blocks on a
parachain until the block candidate they proposed to the Relay Chain validators have been validated.
A block is produced every 6 seconds.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="collators-in-the-wild">Collators in the Wild<a class="hash-link" href="#collators-in-the-wild" title="Direct link to heading">​</a></h2><p>Blockchains that are built using Substrate are unable to hook onto the Relay Chain on their own. The
Parity team built the <a href="https://github.com/paritytech/cumulus/" target="_blank" rel="noopener noreferrer">Cumulus library</a> to address this.
Collators are being used on the
<a href="/docs/build-pdk##testing-a-parachains:-rococo-testnet">Rococo</a> testnet, and you can
learn more about how they are used with Cumulus via the
<a href="https://github.com/paritytech/cumulus/" target="_blank" rel="noopener noreferrer">Cumulus</a> repository. More information can be found under
the <a href="/docs/build-pdk###cumulus">Cumulus section</a> on the build parachain page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="guides-and-tools">Guides and Tools<a class="hash-link" href="#guides-and-tools" title="Direct link to heading">​</a></h2><ul><li><a href="https://docs.substrate.io/tutorials/connect-other-chains/" target="_blank" rel="noopener noreferrer">Tutorial covering Cumulus and Collators</a></li><li><a href="/docs/build-pdk##testing-a-parachains:-rococo-testnet">Rococo testnet guide</a></li><li><a href="https://github.com/shawntabrizi/polkadot-launch" target="_blank" rel="noopener noreferrer">polkadot-launch</a> - a tool to quickly spin up a
local Polkadot testnet based on some parameters like number of parachains, collator setup, etc.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-12-21T17:09:07.000Z">Dec 21, 2022</time></b> by <b>Filippo</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#collators-role" class="table-of-contents__link toc-highlight">Collators&#39; Role</a></li><li><a href="#xcm" class="table-of-contents__link toc-highlight">XCM</a></li><li><a href="#taking-the-case-for-one-parachain" class="table-of-contents__link toc-highlight">Taking the Case for One Parachain</a></li><li><a href="#collators-in-the-wild" class="table-of-contents__link toc-highlight">Collators in the Wild</a></li><li><a href="#guides-and-tools" class="table-of-contents__link toc-highlight">Guides and Tools</a></li></ul></div></div></div></div></main></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Kusama_Canary_white.png" alt="Guide" width="66" height="58"></a><div><a href="https://kusama.network/" target="_blank" class="homepage-font">Kusama Network</a><a href="https://polkadot.network/faq/" target="_blank" rel="noreferrer noopener" class="homepage-font">FAQ</a><a href="https://twitter.com/kusamanetwork" target="_blank" rel="noreferrer noopener" class="homepage-font">Twitter</a><a href="https://www.notion.so/web3foundation/Polkadot-Kusama-Community-Hub-ee1fd077ff6c42c381940404f6aa9f1c" target="_blank" rel="noreferrer noopener" class="homepage-font">Community Hub</a><a href="https://kusa.ma/discord" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Discord</a><a href="https://matrix.to/#/!HfRYKXBoPmDBCAWUEJ:polkadot.builders" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Watercooler</a><a href="https://web3.foundation/grants/" target="_blank" rel="noreferrer noopener" class="homepage-font">Grants and Bounties</a></div><div class="kusama-mainpage-cyber-row"><div class="kusama-mainpage-column"><h2 class="homepage-font-footer">Join a cyber secret society</h2><p class="homepage-font-footer">The Kappa Sigma Mu fraternity asks you to get a Kusama tattoo to join.</p><a href="/docs/maintain-guides-society-kusama"><button class="kusama-mainpage-build-footer">See Kappa Sigma Mu</button></a></div></div></section><section class="row"><div class="copyright homepage-font">© 2023 Web3 Foundation</div><a class="item homepage-font" href="https://polkadot.network/privacy/">Privacy Policy</a></section></footer></div>
<script src="/assets/js/runtime~main.57ce9332.js"></script>
<script src="/assets/js/main.d2c5ba4e.js"></script>
</body>
</html>