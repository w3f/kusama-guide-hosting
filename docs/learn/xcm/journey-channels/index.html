<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learn/xcm/journey/learn-xcm-docs-journey-channels" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Channels and Bridges Â· Guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guide.kusama.network/docs/learn/xcm/journey-channels"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Channels and Bridges Â· Guide"><meta data-rh="true" name="description" content="Establishment of HRMP Channels between Parachains."><meta data-rh="true" property="og:description" content="Establishment of HRMP Channels between Parachains."><meta data-rh="true" name="keywords" content="xcm,cross-consensus messaging,channels,bridges"><link data-rh="true" rel="icon" href="/img/Kusama_Canary_white.png"><link data-rh="true" rel="canonical" href="https://guide.kusama.network/docs/learn/xcm/journey-channels"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn/xcm/journey-channels" hreflang="en"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn/xcm/journey-channels" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://33KMAMG2DG-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Guide" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli&display=swap">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js" onload="addBackToTop()" defer="defer"></script>
<script src="https://apisa.kusama.network/latest.js" async defer="defer"></script>
<script src="../js/custom.js"></script>
<script src="../js/clipboard.min.js"></script>
<script src="../js/copycode.js"></script><link rel="stylesheet" href="/assets/css/styles.dd7fb8ad.css">
<link rel="preload" href="/assets/js/runtime~main.161af186.js" as="script">
<link rel="preload" href="/assets/js/main.d3bff339.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#e6007a;color:white" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">The Polkadot Blockchain Academy is coming to Asia! <a href="https://www.polkadot.network/development/academy/?utm_source=guide.kusama.network&utm_medium=referral&utm_campaign=pba%204%205&utm_content=notification" target="_blank" rel="noopener noreferrer">Find out more ðŸ‘‰</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Guide</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/kusama-getting-started">Docs</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/docs/contributing">Contribute</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/learn/xcm/journey-channels" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="https://crowdin.com/project/polkadot-wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Channels</h1><p>XCM has instructions that aid in the establishment of a HRMP channel between parachains. HRMP
channels are always unidirectional (one-way); every channel has a static sender and a static
recipient. To send messages in the opposite direction (i.e. from recipient to sender), another new
HRMP channel must be opened. Unlike other XCM instructions, these HRMP instructions are related to
the underlying transport mechanism, and will normally not be sent by developers. We still want to
list them, as they are part of XCM:</p><ul><li><code>HrmpNewChannelOpenRequest</code></li><li><code>HrmpChannelAccepted</code></li><li><code>HrmpChannelClosing</code></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hrmpnewchannelopenrequest">HrmpNewChannelOpenRequest<a href="#hrmpnewchannelopenrequest" class="hash-link" aria-label="Direct link to HrmpNewChannelOpenRequest" title="Direct link to HrmpNewChannelOpenRequest">â€‹</a></h2><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HrmpNewChannelOpenRequest {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sender: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max_message_size: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max_capacity: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>HrmpNewChannelOpenRequest</code> is an instruction to notify about a new incoming HRMP channel. This
message is meant to be sent by the relay chain to a parachain.</p><p>The <code>sender</code> field represents the ParaId of the parachain initializing the channel. This parachain
will also be the sender in the to-be opened channel.</p><p>The <code>max_message_size</code> field is the maximum size of a message that is send through the channel. This
field is the size proposed by the sender, and needs to be accepted by the recipient.</p><p>The <code>max_capacity</code> is the maximum number of messages that can be queued in the channel.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hrmpchannelaccepted">HrmpChannelAccepted<a href="#hrmpchannelaccepted" class="hash-link" aria-label="Direct link to HrmpChannelAccepted" title="Direct link to HrmpChannelAccepted">â€‹</a></h2><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HrmpChannelAccepted {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    recipient: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>HrmpChannelAccepted</code> instruction is used to notify about that a previously sent open channel
request has been accepted by the recipient. That means that the channel will be opened during the
next relay chain session change. This message is meant to be sent by the relay chain to a parachain.</p><p>The <code>recipient</code> field represents the ParaId of the parachain that initialized the channel, so it
equals the <code>sender</code> field in the preceding <code>HrmpNewChannelOpenRequest</code> instruction.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hrmpchannelclosing">HrmpChannelClosing<a href="#hrmpchannelclosing" class="hash-link" aria-label="Direct link to HrmpChannelClosing" title="Direct link to HrmpChannelClosing">â€‹</a></h2><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">HrmpChannelClosing {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    initiator: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sender: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    recipient: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>HrmpChannelClosing</code> instruction is used to notify that the other party in an open channel
decided to close it. In particular, <code>initiator</code> is going to close the channel opened from <code>sender</code>
to the <code>recipient</code>. The close will be enacted at the next relay chain session change. This message
is meant to be sent by the relay chain to a para.</p><p>The <code>initiator</code> field represents the ParaId of the parachain that is closing the channel. It is
equal to either the <code>sender</code> or <code>recipient</code> field.</p><p>The <code>sender</code> field represents the ParaId of the parachain that is the sender side of the channel.</p><p>The <code>recipient</code> field represents the ParaId of the parachain that is the recipient side of the
channel.</p><p>Important to note is that both the sender and recipient can close the channel.</p><h1>Message Export (Bridging)</h1><p>XCM has an instruction that allows us to send an XCM to a Non-Local Consensus System, meaning to
MultiLocation that is outside our current GlobalConsensus. For example, it allows us to send an XCM
from Kusama to Polkadot or from Polkadot to an Ethereum-based chain. Exporting an XCM to another
Non-Local Consensus System will tend to utilize some extra consensus layer/mechanism, the obvious
one being a bridge. The instruction to export an XCM is called <code>ExportMessage</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exportmessage">ExportMessage<a href="#exportmessage" class="hash-link" aria-label="Direct link to ExportMessage" title="Direct link to ExportMessage">â€‹</a></h2><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ExportMessage { network: NetworkId, destination: InteriorMultiLocation, xcm: Xcm&lt;()&gt; },</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>ExportMessage</code> instruction can be used to export a message to a Non-Local Consensus System. The
message is sent to the bridge (or other consensus mechanism) that is able to export the message. A
fee is charged for exporting the message via the bridge.</p><p>The <code>network</code> field is the remote consensus system to which the message should be exported.</p><p>The <code>destination</code> field is the location relative to the remote consensus system to which the message
should be sent on arrival.</p><p>The <code>xcm</code> field is the message to be exported.</p><p>As an example, to export a message for execution on Statemine (parachain <code>#1000</code> in the Kusama
network), you would call with <code>network: NetworkId::Kusama</code> and <code>destination: X1(Parachain(1000))</code>.
Alternatively, to export a message for execution on Polkadot, you would call with
<code>network: NetworkId:: Polkadot</code> and <code>destination: Here</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-07T15:13:13.000Z">Sep 7, 2023</time></b> by <b>bader y</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hrmpnewchannelopenrequest" class="table-of-contents__link toc-highlight">HrmpNewChannelOpenRequest</a></li><li><a href="#hrmpchannelaccepted" class="table-of-contents__link toc-highlight">HrmpChannelAccepted</a></li><li><a href="#hrmpchannelclosing" class="table-of-contents__link toc-highlight">HrmpChannelClosing</a></li><li><a href="#exportmessage" class="table-of-contents__link toc-highlight">ExportMessage</a></li></ul></div></div></div></div></main></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Kusama_Canary_white.png" alt="Guide" width="66" height="58"></a><div><a href="https://kusama.network/" target="_blank" class="homepage-font">Kusama Network</a><a href="https://polkadot.network/faq/" target="_blank" rel="noreferrer noopener" class="homepage-font">FAQ</a><a href="https://twitter.com/kusamanetwork" target="_blank" rel="noreferrer noopener" class="homepage-font">Twitter</a><a href="https://www.notion.so/web3foundation/Polkadot-Kusama-Community-Hub-ee1fd077ff6c42c381940404f6aa9f1c" target="_blank" rel="noreferrer noopener" class="homepage-font">Community Hub</a><a href="https://kusa.ma/discord" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Discord</a><a href="https://matrix.to/#/!HfRYKXBoPmDBCAWUEJ:polkadot.builders" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Watercooler</a><a href="https://web3.foundation/grants/" target="_blank" rel="noreferrer noopener" class="homepage-font">Grants and Bounties</a></div><div class="kusama-mainpage-cyber-row"><div class="kusama-mainpage-column"><h2 class="homepage-font-footer">Join a cyber secret society</h2><p class="homepage-font-footer">The Kappa Sigma Mu fraternity asks you to get a Kusama tattoo to join.</p><a href="/docs/maintain-guides-society-kusama"><button class="kusama-mainpage-build-footer">See Kappa Sigma Mu</button></a></div></div></section><section class="row"><div class="copyright homepage-font">Â© 2023 Web3 Foundation</div>Â·<a target="_blank" rel="noreferrer noopener" class="item homepage-font" href="https://polkadot.network/legal-disclosures/">Legal Disclosures</a>Â·<a target="_blank" rel="noreferrer noopener" class="item homepage-font" href="https://polkadot.network/privacy/">Privacy Policy</a></section></footer></div>
<script src="/assets/js/runtime~main.161af186.js"></script>
<script src="/assets/js/main.d3bff339.js"></script>
</body>
</html>