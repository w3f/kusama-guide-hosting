<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learn/xcm/journey/learn-xcm-docs-journey-queries" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Queries Â· Guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guide.kusama.network/docs/learn/xcm/journey-queries"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Queries Â· Guide"><meta data-rh="true" name="description" content="Query Information from another Consensus System."><meta data-rh="true" property="og:description" content="Query Information from another Consensus System."><meta data-rh="true" name="keywords" content="xcm,cross-consensus messaging,queries"><link data-rh="true" rel="icon" href="/img/Kusama_Canary_white.png"><link data-rh="true" rel="canonical" href="https://guide.kusama.network/docs/learn/xcm/journey-queries"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn/xcm/journey-queries" hreflang="en"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn/xcm/journey-queries" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://33KMAMG2DG-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Guide" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli&display=swap">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js" onload="addBackToTop()" defer="defer"></script>
<script src="https://apisa.kusama.network/latest.js" async defer="defer"></script>
<script src="../js/custom.js"></script>
<script src="../js/clipboard.min.js"></script>
<script src="../js/copycode.js"></script><link rel="stylesheet" href="/assets/css/styles.dd7fb8ad.css">
<link rel="preload" href="/assets/js/runtime~main.161af186.js" as="script">
<link rel="preload" href="/assets/js/main.d3bff339.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#e6007a;color:white" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">The Polkadot Blockchain Academy is coming to Asia! <a href="https://www.polkadot.network/development/academy/?utm_source=guide.kusama.network&utm_medium=referral&utm_campaign=pba%204%205&utm_content=notification" target="_blank" rel="noopener noreferrer">Find out more ðŸ‘‰</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Guide</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/kusama-getting-started">Docs</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/docs/contributing">Contribute</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/learn/xcm/journey-queries" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="https://crowdin.com/project/polkadot-wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Queries</h1><p>XCM contains query instructions that can be used to query information from another consensus system:</p><ul><li><code>ReportHolding</code></li><li><code>QueryPallet</code></li><li><code>ReportError</code></li><li><code>ReportTransactStatus</code></li></ul><p>Each of these instructions is sent to the destination where we would like the information to be
reported back to us. Each instruction has a <code>QueryResponseInfo</code> struct as one of its inputs.</p><div class="language-rust, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub struct QueryResponseInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub destination: MultiLocation,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub query_id: QueryId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pub max_weight: Weight,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>destination</code> tells the queried consensus system where to send the response to and the
<code>query_id</code> field links the query and the query response together. The <code>max_weight</code> field tells the
queried consensus system what the maximum weight is that the response instruction can take.</p><p>When a query instruction is executed correctly, it sends a <code>QueryResponse</code> instruction to the
location defined in the previously described <code>destination</code> field. The <code>QueryResponse</code> looks like
this:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">QueryResponse {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    query_id: QueryId,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    response: Response,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    max_weight: Weight,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    querier: Option&lt;MultiLocation&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Reponse Struct</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub enum Response {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// No response. Serves as a neutral default.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Null,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// Some assets.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Assets(MultiAssets),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The outcome of an XCM instruction.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ExecutionResult(Option&lt;(u32, Error)&gt;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// An XCM version.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Version(super::Version),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The index, instance name, pallet name and version of some pallets.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    PalletsInfo(BoundedVec&lt;PalletInfo, MaxPalletsInfo&gt;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /// The status of a dispatch attempt using `Transact`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DispatchResult(MaybeErrorCode),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>QueryResponse</code> has the same <code>query_id</code> as the request to link the request and response and
takes over the <code>max_weight</code> from the <code>QueryResponseInfo</code>. It has the requested information in the
<code>response</code> field. And it has the location of the querier relative to the queried location in the
querier field. The response can be sent back to the requester, or to another location, so the
querier field is important to determine where the requested information is needed.</p><p>Now we take a look at the query instructions.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reportholding">ReportHolding<a href="#reportholding" class="hash-link" aria-label="Direct link to ReportHolding" title="Direct link to ReportHolding">â€‹</a></h2><div class="language-rust, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ReportHolding { response_info: QueryResponseInfo, assets: MultiAssetFilter }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>ReportHolding</code> instruction reports to the given destination the contents of the Holding
Register. The <code>assets</code> field is a filter for the assets that should be reported back. The assets
reported back will be, asset-wise, <em>the lesser of this value and the holding register</em>. For example,
if the holding register contains 10 units of some fungible asset and the <code>assets</code> field specifies 15
units of the same asset, the result will return 10 units of that asset. Wild cards can be used to
describe which assets in the holding register to report, but the response always contains assets and
no wild cards.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h3><p>For the full example, check <a href="https://github.com/paritytech/xcm-docs/tree/main/examples" target="_blank" rel="noopener noreferrer">here</a>.
Assets are withdrawn from the account of parachain 1 on the relay chain and partly deposited in the
account of parachain 2. The remaining assets are reported back to parachain 1.</p><div class="language-rust, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Xcm(vec![</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WithdrawAsset((Here, AMOUNT).into()),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BuyExecution { fees: (Here, AMOUNT).into(), weight_limit: Unlimited },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DepositAsset { assets: Definite((Here, AMOUNT - 5).into()), beneficiary: Parachain(2).into() },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReportHolding {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response_info: QueryResponseInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            destination: Parachain(1).into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            query_id: QUERY_ID,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            max_weight: Weight::from_all(0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        assets: All.into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="querypallet">QueryPallet<a href="#querypallet" class="hash-link" aria-label="Direct link to QueryPallet" title="Direct link to QueryPallet">â€‹</a></h2><p>The <code>QueryPallet</code> instruction queries the existence of a particular pallet based on the module name
specified in the <code>module_name</code> field.</p><div class="language-rust, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">QueryPallet { module_name: Vec&lt;u8&gt;, response_info: QueryResponseInfo }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The destination responds with a vec of <code>PalletInfo</code>s if the pallet exists.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub struct PalletInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    index: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name: BoundedVec&lt;u8, MaxPalletNameLen&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    module_name: BoundedVec&lt;u8, MaxPalletNameLen&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    major: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    minor: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(compact)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    patch: u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example<a href="#example-1" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h3><p>For the full example, check <a href="https://github.com/paritytech/xcm-docs/tree/main/examples" target="_blank" rel="noopener noreferrer">here</a>. It
queries for all instances of pallet_balances and sends the result back to parachain 1.</p><div class="language-rust, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Xcm(vec![</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    QueryPallet {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        module_name: &quot;pallet_balances&quot;.into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        response_info: QueryResponseInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            destination: Parachain(1).into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            query_id: QUERY_ID,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            max_weight: Weight::from_all(0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reporterror">ReportError<a href="#reporterror" class="hash-link" aria-label="Direct link to ReportError" title="Direct link to ReportError">â€‹</a></h2><p>The <code>ReportError</code> instruction report the contents of the Error Register to the given destination.
This instruction is useful in combination with the <code>SetErrorHandler</code> instruction. It then only
reports an error if an error is thrown.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ReportError(QueryResponseInfo)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-2">Example<a href="#example-2" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h3><p>For the full example, check <a href="https://github.com/paritytech/xcm-docs/tree/main/examples" target="_blank" rel="noopener noreferrer">here</a>. The
message sets the error handler to report back any error that is thrown during execution of the
instructions using the <code>ReportError</code> instruction.</p><div class="language-rust, codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust, codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Xcm(vec![</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Set the Error Handler to report back status of Error register.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SetErrorHandler(Xcm(vec![</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ReportError(QueryResponseInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            destination: Parachain(1).into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            query_id: QUERY_ID,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            max_weight: Weight::from_all(0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ])),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // If an instruction errors during further processing, the resulting error is reported back to Parachain(1).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // MORE INSTRUCTIONS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reporttransactstatus">ReportTransactStatus<a href="#reporttransactstatus" class="hash-link" aria-label="Direct link to ReportTransactStatus" title="Direct link to ReportTransactStatus">â€‹</a></h2><p>The <code>ReportTransactStatus</code> instruction report the value of the Transact Status Register to the
specified destination.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ReportTransactStatus(QueryResponseInfo)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-3">Example<a href="#example-3" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">â€‹</a></h3><p>For the full example, check <a href="https://github.com/paritytech/xcm-docs/tree/main/examples" target="_blank" rel="noopener noreferrer">here</a>.
Dispatches a call on the consensus system receiving this Xcm and reports back the status of the
Transact Status Register.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Xcm(vec![</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Transact {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        origin_kind: OriginKind::SovereignAccount,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require_weight_at_most: Weight::from_parts(INITIAL_BALANCE as u64, 1024 * 1024),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        call: remark.encode().into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ReportTransactStatus(QueryResponseInfo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        destination: Parachain(1).into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query_id: QUERY_ID,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        max_weight: Weight::from_all(0),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-07T15:13:13.000Z">Sep 7, 2023</time></b> by <b>bader y</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#reportholding" class="table-of-contents__link toc-highlight">ReportHolding</a><ul><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#querypallet" class="table-of-contents__link toc-highlight">QueryPallet</a><ul><li><a href="#example-1" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#reporterror" class="table-of-contents__link toc-highlight">ReportError</a><ul><li><a href="#example-2" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#reporttransactstatus" class="table-of-contents__link toc-highlight">ReportTransactStatus</a><ul><li><a href="#example-3" class="table-of-contents__link toc-highlight">Example</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Kusama_Canary_white.png" alt="Guide" width="66" height="58"></a><div><a href="https://kusama.network/" target="_blank" class="homepage-font">Kusama Network</a><a href="https://polkadot.network/faq/" target="_blank" rel="noreferrer noopener" class="homepage-font">FAQ</a><a href="https://twitter.com/kusamanetwork" target="_blank" rel="noreferrer noopener" class="homepage-font">Twitter</a><a href="https://www.notion.so/web3foundation/Polkadot-Kusama-Community-Hub-ee1fd077ff6c42c381940404f6aa9f1c" target="_blank" rel="noreferrer noopener" class="homepage-font">Community Hub</a><a href="https://kusa.ma/discord" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Discord</a><a href="https://matrix.to/#/!HfRYKXBoPmDBCAWUEJ:polkadot.builders" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Watercooler</a><a href="https://web3.foundation/grants/" target="_blank" rel="noreferrer noopener" class="homepage-font">Grants and Bounties</a></div><div class="kusama-mainpage-cyber-row"><div class="kusama-mainpage-column"><h2 class="homepage-font-footer">Join a cyber secret society</h2><p class="homepage-font-footer">The Kappa Sigma Mu fraternity asks you to get a Kusama tattoo to join.</p><a href="/docs/maintain-guides-society-kusama"><button class="kusama-mainpage-build-footer">See Kappa Sigma Mu</button></a></div></div></section><section class="row"><div class="copyright homepage-font">Â© 2023 Web3 Foundation</div>Â·<a target="_blank" rel="noreferrer noopener" class="item homepage-font" href="https://polkadot.network/legal-disclosures/">Legal Disclosures</a>Â·<a target="_blank" rel="noreferrer noopener" class="item homepage-font" href="https://polkadot.network/privacy/">Privacy Policy</a></section></footer></div>
<script src="/assets/js/runtime~main.161af186.js"></script>
<script src="/assets/js/main.d3bff339.js"></script>
</body>
</html>