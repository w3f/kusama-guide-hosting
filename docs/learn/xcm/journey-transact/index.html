<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-learn/xcm/journey/learn-xcm-docs-journey-transact" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Transact Â· Guide</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://guide.kusama.network/docs/learn/xcm/journey-transact"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Transact Â· Guide"><meta data-rh="true" name="description" content="The Transact Instruction to Execute XCM Calls."><meta data-rh="true" property="og:description" content="The Transact Instruction to Execute XCM Calls."><meta data-rh="true" name="keywords" content="xcm,cross-consensus messaging,transact"><link data-rh="true" rel="icon" href="/img/Kusama_Canary_white.png"><link data-rh="true" rel="canonical" href="https://guide.kusama.network/docs/learn/xcm/journey-transact"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn/xcm/journey-transact" hreflang="en"><link data-rh="true" rel="alternate" href="https://guide.kusama.network/docs/learn/xcm/journey-transact" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://33KMAMG2DG-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Guide" href="/opensearch.xml">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Muli&display=swap">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.js"></script>
<script src="https://unpkg.com/vanilla-back-to-top@7.2.1/dist/vanilla-back-to-top.min.js" onload="addBackToTop()" defer="defer"></script>
<script src="https://apisa.kusama.network/latest.js" async defer="defer"></script>
<script src="../js/custom.js"></script>
<script src="../js/clipboard.min.js"></script>
<script src="../js/copycode.js"></script><link rel="stylesheet" href="/assets/css/styles.dd7fb8ad.css">
<link rel="preload" href="/assets/js/runtime~main.161af186.js" as="script">
<link rel="preload" href="/assets/js/main.d3bff339.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#e6007a;color:white" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">The Polkadot Blockchain Academy is coming to Asia! <a href="https://www.polkadot.network/development/academy/?utm_source=guide.kusama.network&utm_medium=referral&utm_campaign=pba%204%205&utm_content=notification" target="_blank" rel="noopener noreferrer">Find out more ðŸ‘‰</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/Kusama_logotype_white_large.png" alt="" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Guide</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/kusama-getting-started">Docs</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><a class="navbar__item navbar__link" href="/docs/contributing">Contribute</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/learn/xcm/journey-transact" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="https://crowdin.com/project/polkadot-wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">Help us translate</a></li></ul></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><main class="docMainContainer_gTbr docMainContainerEnhanced_Uz_u"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Transact</h1><p>XCM contains an instruction that allows for the execution of calls (from a <code>RuntimeCall</code> in a
FRAME-based system, to a smart contract function call in an EVM-based system) in a consensus system.
It is the <code>Transact</code> instruction and it looks like this:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Transact {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    origin_kind: OriginKind,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    require_weight_at_most: Weight,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    call: DoubleEncoded&lt;Call&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Transact instruction has three fields. The <code>origin_kind</code> is of type
<a href="https://paritytech.github.io/polkadot/doc/xcm/v2/enum.OriginKind.html" target="_blank" rel="noopener noreferrer">OriginKind</a> and specifies
how the origin of the call should be interpreted. In the xcm-executor, the <code>origin_kind</code> is used to
determine how to convert a <code>MultiLocation</code> origin into a <code>RuntimeOrigin</code>. For more information,
check out the <a href="/docs/learn/executor_config/index.html">xcm-executor config docs</a>.</p><p>The <code>require_weight_at_most</code> field tells the XCVM executing the call how much
<a href="/docs/learn/xcm/fundamentals-fees">weight</a> it can use. If the call uses more weight than the
specified <code>require_weight_at_most</code>, the execution of the call fails.</p><p>The <code>call</code> field is of type <code>DoubleEncoded&lt;Call&gt;</code>.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pub struct DoubleEncoded&lt;T&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    encoded: Vec&lt;u8&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[codec(skip)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    decoded: Option&lt;T&gt;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>XCM is consensus system agnostic; it does not know what is being encoded in the call field. Hence,
the field is a byte vector that can be freely interpreted in whatever form possible. However, the
XCVM does not inherently know how to interpret this call field nor how to decode it; it is reliant
on the <code>T</code> type parameter to specify the proper codec for the byte vector. Instead of just using a
<code>Vec&lt;u8&gt;</code> we use <code>DoubleEncoded</code> as a wrapper around a pre-encoded call (<code>Vec&lt;u8&gt;</code>) with extra
functionalities such as caching of the decoded value. We like to emphasize that the call in the
<code>Transact</code> instruction can be anything from a <code>RuntimeCall</code> in a FRAME-based system, to a smart
contract function call in an EVM-based system.</p><p>Each XCVM has a Transact Status Register, to record the execution result of the call that is
dispatched by the <code>Transact</code> instruction. <em>Important note:</em> The execution of the XCM instruction
does <em>not</em> error when the dispatched call errors.</p><p>The status is described by the <code>MaybeErrorCode</code> enum, and can either be a Success, Error or
TruncatedError if the length of the error exceeds the MaxDispatchErrorLen. For pallet-based calls,
the Error is represented as the scale encoded <code>Error</code> enum of the called pallet.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ExpectTransactStatus(MaybeErrorCode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pub enum MaybeErrorCode {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Success,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Error(BoundedVec&lt;u8, MaxDispatchErrorLen&gt;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TruncatedError(BoundedVec&lt;u8, MaxDispatchErrorLen&gt;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="xcm-executor">XCM Executor<a href="#xcm-executor" class="hash-link" aria-label="Direct link to XCM Executor" title="Direct link to XCM Executor">â€‹</a></h2><p>In this section, we quickly look at how the XCM executor executes the <code>Transact</code> instruction.</p><p>It executes, among other things, the following steps:</p><ol><li>Decode the call field into the actual call that we want to dispatch.</li><li>Check with the <a href="/docs/learn/executor_config/index.html#safecallfilter">SafeCallFilter</a> on whether the
execution of this call is allowed.</li><li>Use the <a href="/docs/learn/executor_config/index.html#originconverter">OriginConverter</a> to convert the
<code>MultiLocation</code> origin into a <code>RuntimeOrigin</code>.</li><li>Check whether the call weight does not exceed <code>require_weight_at_most</code>.</li><li>Dispatch the call with the converted origin and set the <code>transact_status</code> register to be the
result of the dispatch.</li><li>Calculate the weight that was actually used during the dispatch.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example 1<a href="#example-1" class="hash-link" aria-label="Direct link to Example 1" title="Direct link to Example 1">â€‹</a></h2><p>For the full example, check <a href="https://github.com/paritytech/xcm-docs/tree/main/examples" target="_blank" rel="noopener noreferrer">the repo</a>.</p><p>In this example, the relay chain executes the <code>set_balance</code> function of <code>pallet_balances</code> on
<code>Parachain(1)</code>. This function requires the origin to be root. We enable the root origin for the
relay chain by setting <code>ParentAsSuperuser</code> for the <code>OriginConverter</code> config type.</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let call = parachain::RuntimeCall::Balances(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pallet_balances::Call::&lt;parachain::Runtime&gt;::set_balance {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        who: ALICE,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new_free: 5 * AMOUNT,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new_reserved: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let message = Xcm(vec![</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WithdrawAsset((Here, AMOUNT).into()),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BuyExecution { fees: (Here, AMOUNT).into(), weight_limit: WeightLimit::Unlimited },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Transact {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        origin_kind: OriginKind::Superuser,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require_weight_at_most: Weight::from_parts(INITIAL_BALANCE as u64, 1024 * 1024),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        call: call.encode().into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-2">Example 2<a href="#example-2" class="hash-link" aria-label="Direct link to Example 2" title="Direct link to Example 2">â€‹</a></h2><p>For the full example, check <a href="https://github.com/paritytech/xcm-docs/tree/main/examples" target="_blank" rel="noopener noreferrer">the repo</a>.</p><p>In this example, as Parachain(1), we create an NFT collection on the relay chain and we then mint an
NFT with ID 1. The admin for the nft collection is parachain(1). The call looks as follows:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let create_collection = relay_chain::RuntimeCall::Uniques(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pallet_uniques::Call::&lt;relay_chain::Runtime&gt;::create {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        collection: 1u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        admin: parachain_sovereign_account_id(1),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The owner of the NFT is Alice. The nft mint call looks as follows:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let mint = relay_chain::RuntimeCall::Uniques(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pallet_uniques::Call::&lt;relay_chain::Runtime&gt;::mint {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        collection: 1u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        item: 1u32,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        owner: ALICE,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The xcm message contains the following instructions:</p><ol><li>Withdraw native assets from the <code>Parachain(1)</code>&#x27;s sovereign account.</li><li>Buy weight with these assets.</li><li>Create a collection with as admin and owner the sovereign account of <code>Parachain(1)</code>.</li><li>Mints an NFT in the collection with item ID 1 and as owner Alice.</li></ol><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">let message = Xcm(vec![</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WithdrawAsset((Here, AMOUNT).into()),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BuyExecution { fees: (Here, AMOUNT).into(), weight_limit: WeightLimit::Unlimited },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Transact {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        origin_kind: OriginKind::SovereignAccount,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require_weight_at_most: Weight::from_parts(INITIAL_BALANCE as u64, 1024 * 1024),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        call: create_collection.encode().into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Transact {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        origin_kind: OriginKind::SovereignAccount,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require_weight_at_most: Weight::from_parts(INITIAL_BALANCE as u64, 1024 * 1024),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        call: mint.encode().into(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="next">Next:<a href="#next" class="hash-link" aria-label="Direct link to Next:" title="Direct link to Next:">â€‹</a></h2><p>Check out the following instructions that interact with the Transact Status Register:</p><ul><li><a href="/docs/learn/xcm/journey-register#cleartransactstatus">ClearTransactStatus</a></li><li><a href="/docs/learn/xcm/journey-queries#reporttransactstatus">ReportTransactStatus</a></li><li><a href="/docs/learn/xcm/journey-expectations#expecttransactstatus">ExpectTransactStatus</a></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"></div><div class="col lastUpdated_vwxv"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2023-09-07T15:13:13.000Z">Sep 7, 2023</time></b> by <b>bader y</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#xcm-executor" class="table-of-contents__link toc-highlight">XCM Executor</a></li><li><a href="#example-1" class="table-of-contents__link toc-highlight">Example 1</a></li><li><a href="#example-2" class="table-of-contents__link toc-highlight">Example 2</a></li><li><a href="#next" class="table-of-contents__link toc-highlight">Next:</a></li></ul></div></div></div></div></main></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/Kusama_Canary_white.png" alt="Guide" width="66" height="58"></a><div><a href="https://kusama.network/" target="_blank" class="homepage-font">Kusama Network</a><a href="https://polkadot.network/faq/" target="_blank" rel="noreferrer noopener" class="homepage-font">FAQ</a><a href="https://twitter.com/kusamanetwork" target="_blank" rel="noreferrer noopener" class="homepage-font">Twitter</a><a href="https://www.notion.so/web3foundation/Polkadot-Kusama-Community-Hub-ee1fd077ff6c42c381940404f6aa9f1c" target="_blank" rel="noreferrer noopener" class="homepage-font">Community Hub</a><a href="https://kusa.ma/discord" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Discord</a><a href="https://matrix.to/#/!HfRYKXBoPmDBCAWUEJ:polkadot.builders" target="_blank" rel="noreferrer noopener" class="homepage-font">Kusama Watercooler</a><a href="https://web3.foundation/grants/" target="_blank" rel="noreferrer noopener" class="homepage-font">Grants and Bounties</a></div><div class="kusama-mainpage-cyber-row"><div class="kusama-mainpage-column"><h2 class="homepage-font-footer">Join a cyber secret society</h2><p class="homepage-font-footer">The Kappa Sigma Mu fraternity asks you to get a Kusama tattoo to join.</p><a href="/docs/maintain-guides-society-kusama"><button class="kusama-mainpage-build-footer">See Kappa Sigma Mu</button></a></div></div></section><section class="row"><div class="copyright homepage-font">Â© 2023 Web3 Foundation</div>Â·<a target="_blank" rel="noreferrer noopener" class="item homepage-font" href="https://polkadot.network/legal-disclosures/">Legal Disclosures</a>Â·<a target="_blank" rel="noreferrer noopener" class="item homepage-font" href="https://polkadot.network/privacy/">Privacy Policy</a></section></footer></div>
<script src="/assets/js/runtime~main.161af186.js"></script>
<script src="/assets/js/main.d3bff339.js"></script>
</body>
</html>