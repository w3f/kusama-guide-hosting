(self.webpackChunk=self.webpackChunk||[]).push([[8791],{47940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(74165),o=n(15861),r=n(67294),i=n(87152),s=n(30967),p=n(67425);function l(e,t,n){return c.apply(this,arguments)}function c(){return(c=(0,o.Z)((0,a.Z)().mark((function e(t,n,o){var r,p,l,c,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,p=void 0,e.t0=t,e.next="polkadot"===e.t0?5:"kusama"===e.t0?7:"statemine"===e.t0?9:"statemint"===e.t0?11:13;break;case 5:return r="wss://rpc.polkadot.io",e.abrupt("break",14);case 7:return r="wss://kusama-rpc.polkadot.io/",e.abrupt("break",14);case 9:return r="wss://statemine-rpc.polkadot.io/",e.abrupt("break",14);case 11:return r="wss://statemint-rpc.polkadot.io/",e.abrupt("break",14);case 13:console.log("Unknown socket url provided, no connection made.");case 14:if(void 0!==r){e.next=18;break}return e.abrupt("return");case 18:return l=new i.U(r),e.next=21,s.G.create({provider:l});case 21:c=e.sent,(u=n.split(".")).forEach((function(e){e in c&&(c=c[e])})),e.t1=u[0],e.next="consts"===e.t1?27:"query"===e.t1?29:34;break;case 27:return p=c.toString(),e.abrupt("break",35);case 29:return e.next=31,c();case 31:return p=(p=e.sent).toString(),e.abrupt("break",35);case 34:console.log("Unknown path prefix ("+u[0]+") in "+n);case 35:return e.abrupt("return",p);case 36:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e,t,n,a){switch(t){case"humanReadable":(0,p.HumanReadable)(e,n,a);break;case"precise":(0,p.Precise)(e,n,a);break;case"blocksToDays":(0,p.BlocksToDays)(e,a);break;case"erasToDays":(0,p.ErasToDays)(e,a,n);break;case"percentage":(0,p.Percentage)(e,a);break;case"permillToPercent":(0,p.PermillToPercent)(e,a);break;case"arrayLength":(0,p.ArrayLength)(e,a);break;default:return void console.log("Ignoring unknown filter type")}}const d=function(e){var t=e.network,n=e.path,i=e.defaultValue,s=e.filter,p=void 0===s?void 0:s,c=(0,r.useState)(""),d=c[0],h=c[1];return t=t.toLowerCase(),(0,r.useEffect)((function(){void 0!==p?u(i.toString(),p,t,h):h(i.toString());var e=void 0;switch(t){case"polkadot":e="wss://rpc.polkadot.io";break;case"kusama":e="wss://kusama-rpc.polkadot.io/";break;case"statemine":e="wss://statemine-rpc.polkadot.io/";break;case"statemint":e="wss://statemint-rpc.polkadot.io/";break;default:console.log("Unknown network provided, "+t)}if(void 0===e)console.log("Failed to connect to a valid websocket, applying default");else{var r=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t,n,h);case 2:if(void 0!==(o=e.sent)){e.next=7;break}return e.abrupt("return");case 7:void 0!==p?u(o,p,t,h):h(o);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{r()}catch(s){console.log(s)}}}),[]),d}},67425:e=>{var t="polkadot",n="kusama",a="statemine",o="statemint",r={polkadot:{precision:1e10,symbol:"DOT"},kusama:{precision:1e12,symbol:"KSM"},statemint:{precision:1e10,symbol:"DOT"},statemine:{precision:1e12,symbol:"KSM"}};e.exports={HumanReadable:function(e,i,s){var p=void 0;if(i===t||i===o)p=3;else{if(i!==n&&i!==a)return void console.log("Unknown network type found when attempting to apply 'Human Readable' filter");p=6}e=parseFloat(e),s((e=Number.isInteger(e/r[i].precision)?e/r[i].precision+" "+r[i].symbol:(e/r[i].precision).toFixed(p)+" "+r[i].symbol).toString())},Precise:function(e,t,n){n(e=(e=parseFloat(e))/r[t].precision+" "+r[t].symbol)},BlocksToDays:function(e,t){t((e=6*e/86400).toString())},ErasToDays:function(e,r,i){var s=void 0;if(i===t||i===o)s=1;else{if(i!==n&&i!==a)return void console.log("Unknown network type found when attempting to apply 'Human Readable' filter");s=4}r((e/=s).toString())},Percentage:function(e,t){t((e/=1e7).toString())},PermillToPercent:function(e,t){t((e/=1e4).toString())},ArrayLength:function(e,t){t((e=e.split(",").length).toString())}}},83433:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>p,metadata:()=>c,toc:()=>d});var a=n(87462),o=n(63366),r=(n(67294),n(3905)),i=n(47940),s=["components"],p={id:"learn-proxies",title:"Proxy Accounts",sidebar_label:"Proxy Accounts",description:"Proxy Accounts on Polkadot.",keywords:["proxy","proxies","proxy accounts","proxy types","staking proxy"],slug:"../learn-proxies"},l=void 0,c={unversionedId:"learn/learn-proxies",id:"learn/learn-proxies",title:"Proxy Accounts",description:"Proxy Accounts on Polkadot.",source:"@site/../docs/learn/learn-proxies.md",sourceDirName:"learn",slug:"/learn-proxies",permalink:"/docs/learn-proxies",draft:!1,tags:[],version:"current",lastUpdatedBy:"Filippo",lastUpdatedAt:1696928140,formattedLastUpdatedAt:"Oct 10, 2023",frontMatter:{id:"learn-proxies",title:"Proxy Accounts",sidebar_label:"Proxy Accounts",description:"Proxy Accounts on Polkadot.",keywords:["proxy","proxies","proxy accounts","proxy types","staking proxy"],slug:"../learn-proxies"},sidebar:"docs",previous:{title:"Account Recovery",permalink:"/docs/kusama-social-recovery"},next:{title:"Gov1 Treasury",permalink:"/docs/learn-treasury"}},u={},d=[{value:"Why use a Proxy?",id:"why-use-a-proxy",level:2},{value:"Creating Proxy",id:"creating-proxy",level:2},{value:"Proxy Types",id:"proxy-types",level:2},{value:"Any Proxy",id:"any-proxy",level:3},{value:"Non-transfer Proxy",id:"non-transfer-proxy",level:3},{value:"Governance Proxy",id:"governance-proxy",level:3},{value:"Staking Proxy",id:"staking-proxy",level:3},{value:"Identity Judgement Proxy",id:"identity-judgement-proxy",level:3},{value:"Cancel Proxy",id:"cancel-proxy",level:3},{value:"Auction Proxy",id:"auction-proxy",level:3},{value:"Nomination Pools Proxy",id:"nomination-pools-proxy",level:3},{value:"Removing Proxy",id:"removing-proxy",level:2},{value:"How to view your Proxy",id:"how-to-view-your-proxy",level:2},{value:"Proxy Deposits",id:"proxy-deposits",level:2},{value:"Time-delayed Proxy",id:"time-delayed-proxy",level:2}],h={toc:d},y="wrapper";function m(e){var t=e.components,p=(0,o.Z)(e,s);return(0,r.kt)(y,(0,a.Z)({},h,p,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Proxies allow users to use an account (it can be in cold storage or a hot wallet) less frequently\nbut actively participate in the network with the weight of the tokens in that account. Proxies are\nallowed to perform a limited amount of actions related to specific\n",(0,r.kt)("a",{parentName:"p",href:"https://docs.substrate.io/reference/frame-pallets/"},"substrate pallets")," on behalf of another\naccount. The video below contains more information about using proxies."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=1tcygkq52tU"},(0,r.kt)("img",{parentName:"a",src:"https://img.youtube.com/vi/1tcygkq52tU/0.jpg",alt:"Proxy Accounts"}))),(0,r.kt)("h2",{id:"why-use-a-proxy"},"Why use a Proxy?"),(0,r.kt)("p",null,"Proxies are helpful because they let you delegate efficiently and add a layer of security. Rather\nthan using funds in a single account, smaller accounts with unique roles can complete tasks on\nbehalf of the main stash account. Proxies can be ",(0,r.kt)("em",{parentName:"p"},"hotter")," than the initial account, which can be\nkept cold, but the ",(0,r.kt)("em",{parentName:"p"},"weight")," of the tokens in the colder account can be used by the hotter accounts.\nThis increases the security of your accounts by minimizing the number of transactions the cold\naccount has to make. This also drives attention away from the stash account, although it is possible\nto determine the relationship between the proxy and the proxied account."),(0,r.kt)("p",null,"From the security perspective, we can imagine proxies as bodyguards of a VIP, loyal and ready to\nrisk their lives to ensure the VIP's protection. But proxies are also useful in other contexts such\nas efficient account management at the corporate level. They also provide an elegant solution to\nchange signatories within multi-signature accounts, and they can be used within proxy calls and\nnested proxy calls. In this page we will explore all these interesting use cases of proxies within\nthe Kusama ecosystem."),(0,r.kt)("p",null,"Shown below is an example of how you might use these accounts. Imagine you have one stash account as\nyour primary token-holding account and don't want to access it very often, but you want to\nparticipate in staking to earn staking rewards. You could set one of your existing accounts as a\nstaking proxy for that stash account, and use your staking proxy to sign all staking-related\ntransactions."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"proxies",src:n(56789).Z,width:"1920",height:"800"})),(0,r.kt)("p",null,"Having a staking proxy will make the stash account isolated within the staking context. In other\nwords, the account assigned as a staking proxy can participate in staking on behalf of that stash.\nWithout the proxy you will need to sign all the staking-related transactions with the stash. If the\nproxy is compromised, it doesn't have access to transfer-related transactions, so the stash account\ncould just set a new proxy to replace it. You can also monitor proxies by\n",(0,r.kt)("a",{parentName:"p",href:"#time-delayed-proxy"},"setting a time-delay"),"."),(0,r.kt)("p",null,"Creating multiple proxy accounts that act for a single account, lets you come up with more granular\nsecurity practices around how you protect private keys while still being able to actively\nparticipate in the network."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The ",(0,r.kt)("strong",{parentName:"p"},"maximum number of proxies")," allowed for a single account is\n","\n",(0,r.kt)(i.Z,{network:"kusama",path:"consts.proxy.maxProxies",defaultValue:32,mdxType:"RPC"}),"."),(0,r.kt)("p",{parentName:"admonition"},"You can have the same proxy for multiple accounts.")),(0,r.kt)("h2",{id:"creating-proxy"},"Creating Proxy"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"To create a ",(0,r.kt)("strong",{parentName:"p"},"proxy account")," read\n",(0,r.kt)("a",{parentName:"p",href:"https://support.polkadot.network/support/solutions/articles/65000182179-how-to-create-a-proxy-account"},"this support article"),".")),(0,r.kt)("h2",{id:"proxy-types"},"Proxy Types"),(0,r.kt)("p",null,"You can set up a proxy account via the proxy pallet. When you set a proxy, you must choose a type of\nproxy for the relationship. Kusama offers:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#any-proxy"},"Any")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#non-transfer-proxy"},"Non-transfer")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#governance-proxy"},"Governance")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#staking-proxy"},"Staking")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#identity-judgement-proxy"},"Identity Judgement")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#cancel-proxy"},"Cancel")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#auction-proxy"},"Auction")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"#nomination-pools-proxy"},"Nomination pool"))),(0,r.kt)("p",null,"When a proxy account makes a transaction,\nKusama filters the desired transaction to\nensure that the proxy account has the appropriate permission to make that transaction on behalf of\nthe cold account. For example, staking proxies have permission to do only staking-related\ntransactions."),(0,r.kt)("admonition",{title:"Know how to check the calls and pallets accessible by proxies",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"For the latest information on the calls and pallets that can be fully accessed by proxies, check the\n",(0,r.kt)("a",{parentName:"p",href:"https://github.com/paritytech/polkadot-sdk/blob/153543b0c8c582e73f520e5c08cbe33bddfb5f69/runtime/polkadot/src/lib.rs#L1158"},"source code in the runtime folder"),"\non the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/paritytech/polkadot-sdk"},"Polkadot repository"))),(0,r.kt)("h3",{id:"any-proxy"},"Any Proxy"),(0,r.kt)("p",null,"As implied by the name, a proxy type of ",(0,r.kt)("strong",{parentName:"p"},"Any")," allows the proxy account to make any transaction,\nincluding balance transfers. In most cases, this should be avoided as the proxy account is used more\nfrequently than the cold account and is therefore less secure."),(0,r.kt)("h3",{id:"non-transfer-proxy"},"Non-transfer Proxy"),(0,r.kt)("p",null,"Proxies that are of the type ",(0,r.kt)("strong",{parentName:"p"},"Non-transfer")," are accounts that allow any type of transaction except\n",(0,r.kt)("a",{parentName:"p",href:"/docs/learn-balance-transfers"},"balance transfers")," (including ",(0,r.kt)("a",{parentName:"p",href:"/docs/learn-DOT/#vesting"},"vested"),"\ntransfers). Hence, this proxy does not have permission to access calls in the Balances and XCM\npallet."),(0,r.kt)("h3",{id:"governance-proxy"},"Governance Proxy"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Governance")," type will allow proxies to make transactions related to governance (i.e., from\nthe ",(0,r.kt)("a",{parentName:"p",href:"https://paritytech.github.io/substrate/master/pallet_democracy"},"Democracy"),",\n",(0,r.kt)("a",{parentName:"p",href:"https://paritytech.github.io/substrate/master/pallet_elections_phragmen/"},"Phragmen Election"),",\n",(0,r.kt)("a",{parentName:"p",href:"https://paritytech.github.io/substrate/master/pallet_treasury/"},"Treasury"),",\n",(0,r.kt)("a",{parentName:"p",href:"https://paritytech.github.io/substrate/master/pallet_bounties/"},"Bounties"),",\n",(0,r.kt)("a",{parentName:"p",href:"https://paritytech.github.io/substrate/master/pallet_tips/"},"Tips"),",\n",(0,r.kt)("a",{parentName:"p",href:"https://paritytech.github.io/substrate/master/pallet_utility/"},"Utility")," and\n",(0,r.kt)("a",{parentName:"p",href:"https://paritytech.github.io/substrate/master/pallet_child_bounties/"},"Child Bounties")," pallets)."),(0,r.kt)("admonition",{title:"Explainers on governance proxies",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"See ",(0,r.kt)("a",{parentName:"p",href:"/docs/maintain-guides-democracy#governance-proxies"},"Governance")," for more information\non governance proxies or watch our\n",(0,r.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=q5qLFhG4SDw&list=PLOyWqupZ-WGuAuS00rK-pebTMAOxW41W8&index=27&ab_channel=Polkadot"},"technical explainer video that explores this concept"),".")),(0,r.kt)("h3",{id:"staking-proxy"},"Staking Proxy"),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Visit the ",(0,r.kt)("a",{parentName:"p",href:"/docs/learn-staking-advanced/#staking-proxies"},"Advanced Staking Concepts page")," for more\ndetailed information about staking proxies.")),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Staking")," type allows all staking-related transactions. The stash account is meant to stay in\ncold storage, while the staking proxy account makes day-to-day transactions like setting session\nkeys or deciding which validators to nominate."),(0,r.kt)("p",null,"The staking proxy can fully access Staking, Session, Utility and Fast Unstake pallets."),(0,r.kt)("admonition",{title:"Do not use Staking proxy for participating in Nomination Pools",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Use a ",(0,r.kt)("a",{parentName:"p",href:"#non-transfer-proxy"},"non-transfer")," instead of a staking proxy to participate in nomination\npools. The staking proxy is not enabled to make successful calls to the nomination pools pallet.")),(0,r.kt)("h3",{id:"identity-judgement-proxy"},"Identity Judgement Proxy"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Identity Judgement")," proxies are in charge of allowing registrars to make judgments on an\naccount's identity. If you are unfamiliar with judgment and identities on chain, please refer to\n",(0,r.kt)("a",{parentName:"p",href:"/docs/learn-identity#judgements"},"this page"),". This proxy can only access ",(0,r.kt)("inlineCode",{parentName:"p"},"provide_judgement")," call from\nthe Identity pallet along with the calls from the Utility pallet."),(0,r.kt)("h3",{id:"cancel-proxy"},"Cancel Proxy"),(0,r.kt)("p",null,"Proxies that are of the type ",(0,r.kt)("strong",{parentName:"p"},"Cancel")," allow accounts to reject and remove any time-delay proxy\nannouncements. This proxy can only access ",(0,r.kt)("inlineCode",{parentName:"p"},"reject_announcement")," call from the Proxy pallet."),(0,r.kt)("h3",{id:"auction-proxy"},"Auction Proxy"),(0,r.kt)("p",null,"Proxies that are of the type ",(0,r.kt)("strong",{parentName:"p"},"Auction")," are accounts that allow transactions pertaining to\nparachain auctions and crowdloans. The Auction proxy account can sign those transactions on behalf\nof an account in cold storage. If you already set up a Non-transfer proxy account, it can do\neverything an Auction proxy can do. Before participating in a crowdloan using an Auction proxy, it\nis recommended that you check with the respective parachain team for any possible issues pertaining\nto the crowdloan rewards distribution. Auction proxy can access Auctions, Crowdloan, Registrar and\nSlots pallets."),(0,r.kt)("h3",{id:"nomination-pools-proxy"},"Nomination Pools Proxy"),(0,r.kt)("p",null,"Proxies that are of the type ",(0,r.kt)("strong",{parentName:"p"},"Nomination Pools")," are accounts that allow transactions pertaining to\n",(0,r.kt)("a",{parentName:"p",href:"/docs/learn-nomination-pools"},"Nomination Pools"),"."),(0,r.kt)("h2",{id:"removing-proxy"},"Removing Proxy"),(0,r.kt)("admonition",{title:"Removing proxies",type:"info"},(0,r.kt)("p",{parentName:"admonition"},'Read the section "Removing Proxies" on\n',(0,r.kt)("a",{parentName:"p",href:"https://support.polkadot.network/support/solutions/articles/65000182179-how-to-create-a-proxy-account"},"this support page"),"\nto learn how to remove proxies.")),(0,r.kt)("h2",{id:"how-to-view-your-proxy"},"How to view your Proxy"),(0,r.kt)("p",null,"To view your proxy, just go on the ",(0,r.kt)("em",{parentName:"p"},"Accounts")," menu in the Polkadot-JS UI, next to the proxied\naccount you will notice a blue icon. Hover on it, and you will see ",(0,r.kt)("em",{parentName:"p"},"Proxy overview"),". Click on it and\nyou will be presented with a list of all proxies for that account."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"polkadot_view_proxies",src:n(42273).Z,width:"1842",height:"120"})),(0,r.kt)("p",null,"Additionally, you can head over to the ",(0,r.kt)("em",{parentName:"p"},"Chain State")," tab (underneath the ",(0,r.kt)("em",{parentName:"p"},"Developer")," menu) on\n",(0,r.kt)("a",{parentName:"p",href:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Frpc.polkadot.io#/chainstate"},"Polkadot-JS Apps"),". If\nyou've created your proxy on a Kusama\naccount, it is required to change your network accordingly using the top left navigation button. On\nthis page, the proxy pallet should be selected, returning the announcements and proxies functions.\nThe proxies function will allow you to see your created proxies for either one account or for all\naccounts (using the toggle will enable this). Proxy announcements are what time lock proxies do to\nannounce they are going to conduct an action."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"polkadot_view_proxies_dev",src:n(28902).Z,width:"1871",height:"820"})),(0,r.kt)("h2",{id:"proxy-deposits"},"Proxy Deposits"),(0,r.kt)("p",null,"Proxies require deposits in the native currency (i.e. DOT or KSM) to be created. The deposit is\nrequired because adding a proxy requires some storage space on-chain, which must be replicated\nacross every peer in the network. Due to the costly nature of this, these functions could open up\nthe network to a Denial-of-Service attack. To defend against this attack, proxies require a deposit\nto be reserved while the storage space is consumed over the lifetime of the proxy. When the proxy is\nremoved, so is the storage space, and therefore the deposit is returned."),(0,r.kt)("p",null,"The required deposit amount for ",(0,r.kt)("inlineCode",{parentName:"p"},"n")," proxies is equal to:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"ProxyDepositBase")," + ",(0,r.kt)("inlineCode",{parentName:"p"},"ProxyDepositFactor")," ","*"," ",(0,r.kt)("inlineCode",{parentName:"p"},"n")),(0,r.kt)("p",null,"where the ",(0,r.kt)("inlineCode",{parentName:"p"},"ProxyDepositBase")," is the required amount to be reserved for an account to have a proxy\nlist (creates one new item in storage). For every proxy the account has, an additional amount\ndefined by the ",(0,r.kt)("inlineCode",{parentName:"p"},"ProxyDepositFactor")," is reserved as well (appends 33 bytes to storage location). The\n",(0,r.kt)("inlineCode",{parentName:"p"},"ProxyDepositBase")," is\n","\n",(0,r.kt)(i.Z,{network:"kusama",path:"consts.proxy.proxyDepositBase",defaultValue:666933332400,filter:"humanReadable",mdxType:"RPC"}),"\nand the ",(0,r.kt)("inlineCode",{parentName:"p"},"ProxyDepositFactor")," is\n","\n",(0,r.kt)(i.Z,{network:"kusama",path:"consts.proxy.proxyDepositFactor",defaultValue:1099998900,filter:"humanReadable",mdxType:"RPC"}),"."),(0,r.kt)("h2",{id:"time-delayed-proxy"},"Time-delayed Proxy"),(0,r.kt)("p",null,"We can add a layer of security to proxies by giving them a delay time. The delay will be quantified\nin blocks. Kusama has approximately 6\nseconds of block time. A delay value of 10 will mean ten blocks, which equals about one minute\ndelay. The proxy will announce its intended action using the ",(0,r.kt)("inlineCode",{parentName:"p"},"proxy.announce")," extrinsic and will\nwait for the number of blocks defined in the delay time before executing it. The proxy will include\nthe hash of the intended function call in the announcement. Within this time window, the intended\naction may be canceled by accounts that control the proxy. This can be done by the proxy itself\nusing the ",(0,r.kt)("inlineCode",{parentName:"p"},"proxy.removeAnnouncement")," extrinsic or by the proxied account using the the\n",(0,r.kt)("inlineCode",{parentName:"p"},"proxy.rejectAnnouncement")," extrinsic. Now we can use proxies knowing that any malicious actions can\nbe noticed and reverted within a delay period. After the time-delay, the proxy can use the\n",(0,r.kt)("inlineCode",{parentName:"p"},"proxy.proxyAnnounced")," extrinsic to execute the announced call."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"See ",(0,r.kt)("a",{parentName:"p",href:"https://youtu.be/3L7Vu2SX0PE"},"this video tutorial")," to learn how you can setup and use\ntime-delayed proxies. The video goes through the example below.")),(0,r.kt)("p",null,"Announcing ",(0,r.kt)("inlineCode",{parentName:"p"},"n")," calls using a time-delayed proxy also requires a deposit of the form:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"announcementDepositBase")," + ",(0,r.kt)("inlineCode",{parentName:"p"},"announcementDepositFactor")," ","*"," ",(0,r.kt)("inlineCode",{parentName:"p"},"n")),(0,r.kt)("p",null,"where the ",(0,r.kt)("inlineCode",{parentName:"p"},"announcementDepositBase")," is the required amount to be reserved for an account to announce\na proxy call. For every proxy call the account has, an additional amount defined by the\n",(0,r.kt)("inlineCode",{parentName:"p"},"announcementDepositFactor")," is reserved as well. The ",(0,r.kt)("inlineCode",{parentName:"p"},"announcementDepositBase")," is\n","\n",(0,r.kt)(i.Z,{network:"kusama",path:"consts.proxy.announcementDepositBase",defaultValue:666933332400,filter:"humanReadable",mdxType:"RPC"}),"\nand the ",(0,r.kt)("inlineCode",{parentName:"p"},"announcementDepositFactor")," is\n","\n",(0,r.kt)(i.Z,{network:"kusama",path:"consts.proxy.announcementDepositFactor",defaultValue:2199997800,filter:"humanReadable",mdxType:"RPC"}),"."),(0,r.kt)("p",null,"Let's take for example the stash account Eleanor setting Bob as a time-delayed staking proxy. In\nthis way, if Bob submits an extrinsic to change the reward destination, such extrinsic can be\nrejected by Eleanor. This implies that Eleanor monitors Bob, and that within the time-delay she can\nspot the announced extrinsic. Eleanor can check all the proxy call announcements made by her\naccount's proxies on-chain. On Polkadot-JS UI, go to Developer > Storage > Proxy > Announcements to\ncheck the hashes for the calls made by the proxy accounts and the block height at which they are\nenabled for execution."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"time-delayed proxies",src:n(54481).Z,width:"1920",height:"800"})),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"If you try to use ",(0,r.kt)("inlineCode",{parentName:"p"},"proxy.proxyAnnounced"),' to execute the call within the time-delay window you will\nget an error "Proxy unannounced" since the announcement will be done after the time delay. Also note\nthat regular ',(0,r.kt)("inlineCode",{parentName:"p"},"proxy.proxy")," calls do not work with time-delayed proxies, you need to announce the\ncall first and then execute the announced call on a separate transaction.")))}m.isMDXComponent=!0},42273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=n.p+"assets/images/polkadot_view_proxies-5c65a3f24dc6902f1734de8887dd5696.png"},28902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=n.p+"assets/images/polkadot_view_proxies_dev-c7f33e592f2c37cade0cc3d37e356aef.png"},56789:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=n.p+"assets/images/stash-vs-stash-and-staking-proxy-2104e1a23d5c29821cec15fb9b67eba5.png"},54481:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const a=n.p+"assets/images/time-delayed-proxies-8b85523c3caac25b32d1d884af71c048.png"},46601:()=>{}}]);