"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3086],{70225:(a,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var t=n(74848),o=n(28453);const i={id:"learn-collator",title:"Collator",sidebar_label:"Collator",description:"Role of Collators within the Polkadot Ecosystem.",keywords:["collator","maintain","full node","block candidate"],slug:"../learn-collator"},r=void 0,s={id:"learn/learn-collator",title:"Collator",description:"Role of Collators within the Polkadot Ecosystem.",source:"@site/../docs/learn/learn-collator.md",sourceDirName:"learn",slug:"/learn-collator",permalink:"/docs/learn-collator",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Filippo",lastUpdatedAt:1729152709e3,frontMatter:{id:"learn-collator",title:"Collator",sidebar_label:"Collator",description:"Role of Collators within the Polkadot Ecosystem.",keywords:["collator","maintain","full node","block candidate"],slug:"../learn-collator"},sidebar:"docs",previous:{title:"Network Participants",permalink:"/docs/learn-participants-index"},next:{title:"Nominator",permalink:"/docs/learn-nominator"}},l={},c=[{value:"Collators&#39; Role",id:"collators-role",level:2},{value:"XCM",id:"xcm",level:2},{value:"Taking the Case for One Parachain",id:"taking-the-case-for-one-parachain",level:2},{value:"Collators in the Wild",id:"collators-in-the-wild",level:2},{value:"Guides and Tools",id:"guides-and-tools",level:2}];function d(a){const e={a:"a",admonition:"admonition",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...a.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.admonition,{type:"info",children:(0,t.jsxs)(e.p,{children:["This page provides a general overview of the role of collators' in the Polkadot ecosystem. For more\ndetailed information you can read the ",(0,t.jsx)(e.a,{href:"/docs/learn-parachains-protocol",children:"Parachain Protocol Overview"}),"."]})}),"\n",(0,t.jsx)(e.h2,{id:"collators-role",children:"Collators' Role"}),"\n",(0,t.jsx)(e.p,{children:"Collators maintain parachains by collecting parachain transactions from users and producing state\ntransition proofs for relay chain validators. In other words, collators maintain parachains by\naggregating parachain transactions into parachain block candidates and producing state transition\nproofs (Proof-of-Validity, PoV) for validators."}),"\n",(0,t.jsx)(e.p,{children:"Collators maintain a full node for the relay chain and a full node for their particular parachain;\nmeaning they retain all necessary information to be able to author new blocks and execute\ntransactions in much the same way as miners do on PoW blockchains. Under normal circumstances, they\nwill collate and execute transactions to create an unsealed block and provide it, together with a\nPoV, to one or more validators responsible for proposing a parachain block."}),"\n",(0,t.jsxs)(e.p,{children:["Collators are similar to validators on any other blockchain but they do not need to provide security\nguarantees because the relay chain provides those. If a parachain block is invalid, it will get\nrejected by validators. The validators are required to check the validity of submitted candidates,\nfollowed by issuing and collecting statements about the validity of candidates to other validators.\nThis process is known as ",(0,t.jsx)(e.strong,{children:"candidate backing"}),". Validators receive an arbitrary number of parachain\ncandidates with associated PoV from untrusted collators. A candidate is considered ",(0,t.jsx)(e.em,{children:"backable"})," when\nat least 2/3 of all assigned validators have issued a valid statement about that candidate."]}),"\n",(0,t.jsx)(e.p,{children:"The validator must successfully verify the following conditions in the following order:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"The candidate does not exceed any parameters in the persisted validation data."}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"The signature of the collator is valid."}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:"Validate the candidate by executing the parachain Runtime."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["Once a candidate meets a specified criteria for inclusion, the selected relay chain block author\nthen chooses any of the backable candidates for each parachain and includes those into the relay\nchain block. We say the candidate blocks are ",(0,t.jsx)(e.em,{children:"backed"}),"."]}),"\n",(0,t.jsx)(e.p,{children:"The assumption that having more collators is better or more secure is not correct. On the contrary,\ntoo many collators may slow down the network. The only nefarious power collators have is transaction\ncensorship. To prevent censorship, a parachain only needs to ensure that there are some neutral\ncollators - but not necessarily a majority. Theoretically, the censorship problem is solved by\nhaving just one honest collator."}),"\n",(0,t.jsx)(e.h2,{id:"xcm",children:"XCM"}),"\n",(0,t.jsxs)(e.p,{children:["Collators are a key element of the ",(0,t.jsx)(e.a,{href:"/docs/learn-xcm",children:"XCM (Cross-Consensus Message Passing Format)"}),". By\nbeing full nodes of the relay chain, they are all aware of each other as peers. This makes it\npossible for them to send messages from parachain A to parachain B."]}),"\n",(0,t.jsx)(e.h2,{id:"taking-the-case-for-one-parachain",children:"Taking the Case for One Parachain"}),"\n",(0,t.jsxs)(e.p,{children:["A start of a new block candidate is initiated with a block creation time. The collator aggregates\nall new transactions at the end of the process. When doing so, the collator signs the ",(0,t.jsx)(e.em,{children:"parachain\nblock candidate"})," and produces state transition proofs (Proof-of-Validity, PoV), which are a summary\nof the final account balances caused by the transactions in the candidate block. The collator sends\nthe candidate block and PoV to the parachain validators, so-called para-validators. The\npara-validators verify the transactions within the parachain block candidate. Upon verification, and\nif all is well, the candidate becomes ",(0,t.jsx)(e.em,{children:"backable"})," and a para-validator shares the candidate block\nwith the relay chain."]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"parachain candidate block diagram",src:n(8891).A+"",width:"413",height:"298"})}),"\n",(0,t.jsx)(e.p,{children:"The validators on the relay chain will try to reach a consensus on the block candidate. Upon\nreaching consensus, the now validated block candidate is shared with the validators and collators,\nand the process repeats for new transactions. A collator cannot continue building blocks on a\nparachain until the block candidate they proposed to the relay chain validators have been validated.\nA block is produced every 6 seconds."}),"\n",(0,t.jsx)(e.h2,{id:"collators-in-the-wild",children:"Collators in the Wild"}),"\n",(0,t.jsxs)(e.p,{children:["Blockchains that are built using Substrate are unable to hook onto the relay chain on their own. The\nParity team built the\n",(0,t.jsx)(e.a,{href:"https://github.com/paritytech/polkadot-sdk/tree/master/cumulus/",children:"Cumulus library"})," to address this.\nCollators are being used on the ",(0,t.jsx)(e.a,{href:"/docs/build-pdk#testing-a-parachain",children:"Paseo"})," testnet,\nand you can learn more about how they are used with Cumulus via the\n",(0,t.jsx)(e.a,{href:"hhttps://paritytech.github.io/polkadot-sdk/master/polkadot_sdk_docs/polkadot_sdk/cumulus/index.html",children:"Cumulus"})," Rust documentation. More\ninformation can be found under the ",(0,t.jsx)(e.a,{href:"/docs/build-pdk###cumulus",children:"Cumulus section"})," on the\nbuild parachain page."]}),"\n",(0,t.jsx)(e.h2,{id:"guides-and-tools",children:"Guides and Tools"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"https://docs.substrate.io/reference/how-to-guides/parachains/connect-to-a-relay-chain/",children:"Tutorial covering Cumulus and Collators"})}),"\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"/docs/build-pdk#testing-a-parachain",children:"Paseo testnet guide"})}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.a,{href:"https://github.com/shawntabrizi/polkadot-launch",children:"polkadot-launch"})," - a tool to quickly spin up a\nlocal Polkadot testnet based on some parameters like number of parachains, collator setup, etc."]}),"\n"]})]})}function h(a={}){const{wrapper:e}={...(0,o.R)(),...a.components};return e?(0,t.jsx)(e,{...a,children:(0,t.jsx)(d,{...a})}):d(a)}},8891:(a,e,n)=>{n.d(e,{A:()=>t});const t=n.p+"assets/images/polkadot-consensus-example-1-b4a05f2e5a4b991594612da57e1d6dfd.png"},28453:(a,e,n)=>{n.d(e,{R:()=>r,x:()=>s});var t=n(96540);const o={},i=t.createContext(o);function r(a){const e=t.useContext(i);return t.useMemo((function(){return"function"==typeof a?a(e):{...e,...a}}),[e,a])}function s(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(o):a.components||o:r(a.components),t.createElement(i.Provider,{value:e},a.children)}}}]);