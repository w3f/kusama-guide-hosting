"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3705],{82561:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var s=t(74848),a=t(28453);const r={id:"bifrost-dashboards",title:"Bifrost Dashboards",sidebar_label:"Bifrost",description:"Bifrost is a decentralized finance hub and liquid staking platform.",keywords:["polkadot","dashboard","dune","bifrost","DeFi"],slug:"../bifrost-dashboards"},i="Bifrost Dashboards",o={id:"general/dune-analytics/parachain-dashboards/bifrost-dashboards",title:"Bifrost Dashboards",description:"Bifrost is a decentralized finance hub and liquid staking platform.",source:"@site/../docs/general/dune-analytics/parachain-dashboards/bifrost-dashboards.md",sourceDirName:"general/dune-analytics/parachain-dashboards",slug:"/general/dune-analytics/bifrost-dashboards",permalink:"/docs/general/dune-analytics/bifrost-dashboards",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedBy:"Filippo",lastUpdatedAt:1727178265e3,frontMatter:{id:"bifrost-dashboards",title:"Bifrost Dashboards",sidebar_label:"Bifrost",description:"Bifrost is a decentralized finance hub and liquid staking platform.",keywords:["polkadot","dashboard","dune","bifrost","DeFi"],slug:"../bifrost-dashboards"}},d={},l=[{value:"Overview",id:"overview",level:2},{value:"Featured Dashboards on Dune",id:"featured-dashboards-on-dune",level:2},{value:"Key Tables",id:"key-tables",level:2},{value:"Useful Queries",id:"useful-queries",level:2},{value:"Getting Started with Queries",id:"getting-started-with-queries",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"bifrost-dashboards",children:"Bifrost Dashboards"})}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Bifrost is a decentralized finance hub and liquid staking platform on the Polkadot network and other\nchains. Users obtain a liquid staking token, vToken, by staking their native tokens. The vToken can\nthen be used in DeFi applications, such as lending, borrowing, and trading."}),"\n",(0,s.jsx)(n.p,{children:"On Polkadot, users can stake DOT, ASTR, FIL, GLMR, Manta at the moment."}),"\n",(0,s.jsx)(n.p,{children:"They can also trade their vTokens in a DEX (stableswap) operating on the Bifrost parachain."}),"\n",(0,s.jsx)(n.h2,{id:"featured-dashboards-on-dune",children:"Featured Dashboards on Dune"}),"\n",(0,s.jsx)(n.p,{children:"Here you will find a variety of dashboards that help visualize data from the Bifrost parachain:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://dune.com/substrate/bifrost",children:"bifrost on Polkadot"}),": This dashboard provides a comprehensive\nview of staking, value locked, and trading on Bifrost parachain."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"key-tables",children:"Key Tables"}),"\n",(0,s.jsx)(n.p,{children:"Data from the bifrost parachain is organized into several key tables:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bifrost.balances"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bifrost.blocks"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bifrost.calls"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bifrost.events"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bifrost.extrinsics"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"bifrost.transfers"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"bifrost.traces"})," table is created by a snapshot script utilizing Bifrost API calls to fetch\naccurate values which would be difficult to calculate from the blockchain events alone."]}),"\n",(0,s.jsxs)(n.p,{children:["Start building your own queries using granular data on Dune\n",(0,s.jsx)(n.a,{href:"https://dune.com/queries?category=canonical&namespace=bifrost",children:"here"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"useful-queries",children:"Useful Queries"}),"\n",(0,s.jsx)(n.p,{children:"Some useful queries for Bifrost are provided:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Subject Area"}),(0,s.jsx)(n.th,{children:"Query"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Liquid Staking"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://dune.com/queries/3571958",children:"query 3571958"})}),(0,s.jsx)(n.td,{children:"Provides amount of vTokens and therefore tokens staked (1=1) Used HydraDX oracle for USD values."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Bifrost Stableswap"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.a,{href:"https://dune.com/queries/3532234",children:"query 3532234"})}),(0,s.jsx)(n.td,{children:"Provides price and volume for stableswap pairs, e.g. DOT <-> VDOT"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Dune users are encouraged to study the source code of the queries, including parts of a query that\nmay have been commented out for future use."}),"\n",(0,s.jsx)(n.p,{children:"Uncommenting these parts may accelerate your effort of adopting a query to a slightly different use\ncase."}),"\n",(0,s.jsx)(n.h2,{id:"getting-started-with-queries",children:"Getting Started with Queries"}),"\n",(0,s.jsx)(n.p,{children:"To get started with querying data from Bifrost, you are welcome to use the mentioned queries. You\ncan also use the following DuneSQL queries as examples:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",metastring:'title="Bifrost Loan Market Data" showLineNumbers',children:"WITH A AS (\n  SELECT\n    block_time,\n    event_id,\n    section,\n    method,\n    JSON_ARRAY_LENGTH(data) AS array_length,\n    JSON_VALUE(data, 'strict $[0]') AS account,\n    -- JSON_QUERY(data, 'strict $[1]') AS value_1,\n    -- JSON_VALUE(data, 'strict $[2]') AS some_amount,\n    JSON_QUERY(data, 'strict $[3]') AS token_in,\n    JSON_QUERY(data, 'strict $[4]') AS token_out,\n    CAST(JSON_VALUE(data, 'strict $[5]') AS UINT256) AS amount_in,\n    CAST(JSON_VALUE(data, 'strict $[9]') AS UINT256) AS amount_out\n    -- JSON_QUERY(data, 'strict $[7]') AS value_7,\n    -- JSON_QUERY(data, 'strict $[8]') AS value_8,\n    -- JSON_QUERY(data, 'strict $[9]') AS value_9\n  FROM\n    bifrost.events\n  WHERE\n    section = 'stableAsset'\n    AND method IN ('TokenSwapped')\n    AND block_time > TIMESTAMP '2024-05-01'\n)\nSELECT\n  date_trunc('hour', block_time) AS \"day\",\n  SUM(amount_in) / 1e10 AS dot_volume_swapped,\n  1.000 * SUM(amount_in) / SUM(amount_out) AS avg_price,\n  (1.000 * SUM(amount_in) / SUM(amount_out)) < 1 AS price_low -- very low prices\nFROM\n  A\nWHERE\n  token_in = '{\"token2\":0}'\n  AND token_out = '{\"vToken2\":0}'\n  AND amount_out > 0\n  AND block_time > TIMESTAMP '2024-05-01'\nGROUP BY\n  1\nORDER BY\n  1 DESC;\n\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The query is fairly typical for a parachain query on Dune. It parses events from the\n",(0,s.jsx)(n.code,{children:"bifrost.events"})," table, and calculates the aggregate values for each hour."]}),"\n",(0,s.jsx)(n.p,{children:"The query uses Dune's native UINT256 type, which allows to deal with very large numbers and still\nmaintain precision."}),"\n",(0,s.jsx)(n.p,{children:"Query result:"}),"\n",(0,s.jsx)("iframe",{src:"https://dune.com/embeds/3532234/5941878/",height:"350",width:"100%"}),"\n",(0,s.jsx)(n.admonition,{title:"DuneSQL Reference",type:"info",children:(0,s.jsxs)(n.p,{children:["For more information on DuneSQL, please refer to the ",(0,s.jsx)(n.a,{href:"/docs/general/dunesql-cheatsheet",children:"DuneSQL Cheatsheet"}),"\nand\n",(0,s.jsx)(n.a,{href:"https://docs.dune.com/query-engine/Functions-and-operators/index",children:"DuneSQL Official Documentation"}),"."]})})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>o});var s=t(96540);const a={},r=s.createContext(a);function i(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);